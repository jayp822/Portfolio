---
export const prerender = true;

import { fade } from "astro:transitions";
import Layout from "../../layouts/Layout.astro";

// Import all MDX files in the specified directory
const mdxFiles = await Astro.glob("../../content/projects/*.mdx");

export function getStaticPaths() {
  return [
    {
      params: { ProjectDetails: "Application-Ally" },
    },
    { params: { ProjectDetails: "Local-Reports" } },
    { params: { ProjectDetails: "Weather-Wear" } },
  ];
}

const { ProjectDetails } = Astro.params;

// Find the MDX file where the frontmatter title matches the ProjectDetails parameter
const ProjectContent = mdxFiles.find(
  (post) => post.frontmatter.title.replace(/\s+/g, "-") === ProjectDetails,
)?.default;
---

<Layout title={ProjectDetails}>
  <div class="mt-[100px] flex flex-col items-center justify-center">
    <a
      href="/#all-projects"
      class="prose w-[90%] rounded-3xl text-xl text-white transition duration-200 ease-out hover:underline sm:hover:text-orange-400"
      >Back</a
    >
    <article
      transition:animate={fade({ duration: "0.25s" })}
      class="prose prose-base prose-invert mx-auto mt-[1rem] w-[90%] overflow-hidden text-balance md:prose-lg lg:prose-xl prose-headings:text-gray-300 prose-h1:text-zinc-300 prose-p:font-normal prose-a:text-orange-400"
    >
      {
        ProjectContent ? (
          <ProjectContent />
        ) : (
          <h1>Project details not found.</h1>
        )
      }
    </article>
  </div>
</Layout>
